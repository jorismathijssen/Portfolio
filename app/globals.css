@import 'tailwindcss';

@custom-variant dark (&:is([data-theme="dark"] *));

@theme {
  /* Color System */
  --color-brand-50: #f0f9ff;
  --color-brand-100: #e0f2fe;
  --color-brand-200: #bae6fd;
  --color-brand-300: #7dd3fc;
  --color-brand-400: #38bdf8;
  --color-brand-500: #0ea5e9;
  --color-brand-600: #0284c7;
  --color-brand-700: #0369a1;
  --color-brand-800: #075985;
  --color-brand-900: #0c4a6e;
  --color-brand-950: #082f49;

  --color-success-50: #f0fdf4;
  --color-success-100: #dcfce7;
  --color-success-200: #bbf7d0;
  --color-success-300: #86efac;
  --color-success-400: #4ade80;
  --color-success-500: #22c55e;
  --color-success-600: #16a34a;
  --color-success-700: #15803d;
  --color-success-800: #166534;
  --color-success-900: #14532d;
  --color-success-950: #052e16;

  --color-warning-50: #fffbeb;
  --color-warning-100: #fef3c7;
  --color-warning-200: #fde68a;
  --color-warning-300: #fcd34d;
  --color-warning-400: #fbbf24;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;
  --color-warning-700: #b45309;
  --color-warning-800: #92400e;
  --color-warning-900: #78350f;
  --color-warning-950: #451a03;

  --color-error-50: #fef2f2;
  --color-error-100: #fee2e2;
  --color-error-200: #fecaca;
  --color-error-300: #fca5a5;
  --color-error-400: #f87171;
  --color-error-500: #ef4444;
  --color-error-600: #dc2626;
  --color-error-700: #b91c1c;
  --color-error-800: #991b1b;
  --color-error-900: #7f1d1d;
  --color-error-950: #450a0a;

  --color-neutral-50: #fafafa;
  --color-neutral-100: #f5f5f5;
  --color-neutral-200: #e5e5e5;
  --color-neutral-300: #d4d4d4;
  --color-neutral-400: #a3a3a3;
  --color-neutral-500: #737373;
  --color-neutral-600: #525252;
  --color-neutral-700: #404040;
  --color-neutral-800: #262626;
  --color-neutral-900: #171717;
  --color-neutral-950: #0a0a0a;

  /* Typography System */
  --font-sans: 'var(--font-geist-sans)', ui-sans-serif, system-ui, sans-serif;
  --font-mono:
    'var(--font-geist-mono)', ui-monospace, 'SF Mono', 'Consolas', monospace;
  --font-heading:
    'var(--font-geist-sans)', ui-sans-serif, system-ui, sans-serif;

  /* Responsive Breakpoints */
  --breakpoint-xs: 475px;
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;
  --breakpoint-3xl: 1920px;

  /* Animation System */
  --animate-terminal-cursor: terminal-cursor 1s infinite;
  --animate-terminal-typing: terminal-typing 2s ease-in-out;
  --animate-matrix-rain: matrix-rain 2s linear infinite;
  --animate-fade-in: fade-in 0.5s ease-out;
  --animate-slide-up: slide-up 0.6s ease-out;
  --animate-slide-down: slide-down 0.6s ease-out;
  --animate-scale-in: scale-in 0.4s ease-out;
  --animate-shake: shake 0.5s ease-in-out;
  --animate-pulse-slow: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  --animate-bounce-gentle: bounce-gentle 2s infinite;
  --animate-spinner: spinner 1s linear infinite;
  --animate-skeleton: skeleton 1.5s ease-in-out infinite alternate;
  --animate-glow: glow 2s ease-in-out infinite alternate;
  --animate-float: float 3s ease-in-out infinite;

  /* Spacing Extensions */
  --spacing-18: 4.5rem;
  --spacing-88: 22rem;
  --spacing-128: 32rem;
  --spacing-144: 36rem;

  /* Box Shadow Extensions */
  --shadow-glow: 0 0 20px rgba(59, 130, 246, 0.3);
  --shadow-glow-strong: 0 0 40px rgba(59, 130, 246, 0.5);
  --shadow-terminal:
    0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-card:
    0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  --shadow-card-hover:
    0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);

  /* Z-Index Scale */
  --z-60: 60;
  --z-70: 70;
  --z-80: 80;
  --z-90: 90;
  --z-100: 100;

  /* Grid Template Columns */
  --cols-16: repeat(16, minmax(0, 1fr));
  --cols-auto-fit: repeat(auto-fit, minmax(250px, 1fr));
  --cols-auto-fill: repeat(auto-fill, minmax(200px, 1fr));

  /* Aspect Ratios */
  --aspect-4-3: 4 / 3;
  --aspect-3-2: 3 / 2;
  --aspect-2-3: 2 / 3;
  --aspect-9-16: 9 / 16;
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

/* Custom Utilities */
@utility terminal-font {
  font-family: var(--font-mono);
  font-feature-settings:
    'liga' 0,
    'calt' 0;
}

@utility text-shadow {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

@utility text-shadow-lg {
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

@utility glass {
  background-color: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

@utility glass-dark {
  background-color: rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Component Utilities */
@utility btn {
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  font-weight: 500;
  font-size: 0.875rem;
  line-height: 1.25rem;
  transition: all 0.2s ease-in-out;
  &:focus {
    outline: 2px solid;
    outline-color: rgb(59 130 246);
    outline-offset: 2px;
  }
}

@utility btn-primary {
  background-color: rgb(37 99 235);
  color: white;
  &:hover {
    background-color: rgb(29 78 216);
  }
  &:active {
    background-color: rgb(30 64 175);
  }
}

@utility btn-secondary {
  background-color: rgb(229 231 235);
  color: rgb(17 24 39);
  &:hover {
    background-color: rgb(209 213 219);
  }
  &:active {
    background-color: rgb(156 163 175);
  }
}

@utility card {
  background-color: white;
  border-radius: 0.5rem;
  box-shadow:
    0 1px 3px 0 rgba(0, 0, 0, 0.1),
    0 1px 2px 0 rgba(0, 0, 0, 0.06);
  padding: 1.5rem;
  &:hover {
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
}

/* Base styles and variables */
:root {
  /* Base colors */
  --background: 0 0% 100%;
  --foreground: 0 0% 9%;
  
  /* Brand colors */
  --primary: 210 98% 51%;
  --primary-hover: 210 98% 41%;
  --primary-foreground: 0 0% 100%;
  
  /* Secondary colors */
  --secondary: 210 40% 96%;
  --secondary-hover: 210 40% 86%;
  --secondary-foreground: 0 0% 9%;
  
  /* Accent colors */
  --accent: 142 71% 45%;
  --accent-hover: 142 71% 35%;
  --accent-foreground: 0 0% 100%;
  
  /* Neutral colors */
  --muted: 210 40% 96%;
  --muted-foreground: 215 16% 47%;
  
  /* Border and input colors */
  --border: 214 32% 91%;
  --border-hover: 214 32% 81%;
  --input: 214 32% 91%;
  --input-border: 214 32% 71%;
  
  /* Focus and interaction colors */
  --ring: 210 98% 51%;
  --ring-offset: 0 0% 100%;
  
  /* Status colors */
  --success: 142 71% 45%;
  --warning: 38 92% 50%;
  --error: 0 84% 60%;
  --info: 210 98% 51%;
  
  /* Terminal colors */
  --terminal-bg: 0 0% 7%;
  --terminal-fg: 120 100% 55%;
  --terminal-border: 120 100% 55% / 0.2;
  --terminal-header: 0 0% 13%;
  --terminal-input: 0 0% 13%;
  --terminal-prompt: 120 100% 75%;
  --terminal-output: 120 60% 70%;
  
  /* Border radius system */
  --radius: 0.25rem;
  
  /* Font settings */
  --font-sans: ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
  --font-mono: ui-monospace, 'SF Mono', 'Fira Code', 'JetBrains Mono', Consolas, monospace;
}

/* Dark mode theme */
.dark {
  --background: 0 0% 4%;
  --foreground: 210 40% 98%;
  --primary: 210 98% 61%;
  --primary-hover: 210 98% 71%;
  --primary-foreground: 0 0% 9%;
  --secondary: 217 33% 17%;
  --secondary-hover: 217 33% 27%;
  --secondary-foreground: 210 40% 98%;
  --accent: 142 71% 55%;
  --accent-hover: 142 71% 65%;
  --accent-foreground: 0 0% 9%;
  --muted: 217 33% 17%;
  --muted-foreground: 215 20% 65%;
  --border: 217 33% 17%;
  --border-hover: 217 33% 27%;
  --input: 217 33% 17%;
  --input-border: 217 33% 27%;
  --ring: 210 98% 61%;
  --ring-offset: 0 0% 4%;
  --success: 142 71% 55%;
  --warning: 38 92% 60%;
  --error: 0 84% 70%;
  --info: 210 98% 61%;
  --terminal-bg: 0 0% 7%;
  --terminal-fg: 120 100% 55%;
  --terminal-border: 120 100% 55% / 0.2;
  --terminal-header: 0 0% 13%;
  --terminal-input: 0 0% 13%;
  --terminal-prompt: 120 100% 75%;
  --terminal-output: 120 60% 70%;
  
  color-scheme: dark;
}

/* Base element styles */
html {
  font-family: var(--font-sans);
  color-scheme: light dark;
  scroll-behavior: smooth;
}

body {
  color: hsl(var(--foreground));
  background: hsl(var(--background));
  font-family: var(--font-sans);
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  line-height: 1.25;
  margin-top: 0;
  margin-bottom: 1rem;
  color: hsl(var(--foreground));
}

h1 { font-size: 2.25rem; margin-bottom: 1.5rem; font-weight: 700; }
h2 { font-size: 1.875rem; margin-bottom: 1.25rem; }
h3 { font-size: 1.5rem; margin-bottom: 1rem; }
h4 { font-size: 1.25rem; margin-bottom: 0.75rem; }
h5 { font-size: 1.125rem; margin-bottom: 0.75rem; }
h6 { font-size: 1rem; margin-bottom: 0.5rem; font-weight: 500; }

p {
  margin-top: 0;
  margin-bottom: 1rem;
  line-height: 1.625;
}

/* Dark mode text enforcement */
.dark body {
  color: hsl(var(--foreground)) !important;
}

.dark h1, 
.dark h2, 
.dark h3, 
.dark h4, 
.dark h5, 
.dark h6 {
  color: hsl(var(--foreground)) !important;
}

.dark p {
  color: hsl(var(--foreground)) !important;
}

/* Terminal specific styling */
.terminal--minimized {
  position: fixed;
  bottom: 1rem;
  right: 1rem;
  width: 56px;
  height: 56px;
  background-color: hsl(var(--terminal-header));
  color: hsl(var(--terminal-fg));
  border: 1px solid hsl(var(--terminal-border));
  border-radius: 0.5rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-family: var(--font-mono);
  font-size: 1.25rem;
  z-index: 1000;
}

.terminal--expanded {
  position: fixed;
  bottom: 1rem;
  right: 1rem;
  width: 400px;
  height: 300px;
  max-width: calc(100vw - 2rem);
  max-height: calc(100vh - 2rem);
  background-color: hsl(var(--terminal-bg));
  color: hsl(var(--terminal-fg));
  border: 1px solid hsl(var(--terminal-border));
  border-radius: 0.5rem;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  font-family: var(--font-mono);
  z-index: 1000;
}

.terminal__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.75rem;
  background-color: hsl(var(--terminal-header));
  border-bottom: 1px solid hsl(var(--terminal-border));
  cursor: pointer;
  flex-shrink: 0;
}

.terminal__body {
  flex: 1;
  display: flex;
  flex-direction: column;
  background-color: hsl(var(--terminal-bg));
  min-height: 0;
  overflow: hidden;
}

.terminal__output {
  flex: 1;
  padding: 0.75rem;
  overflow-y: auto;
  font-size: 0.75rem;
  line-height: 1.5;
}

.terminal__input-area {
  border-top: 1px solid hsl(var(--terminal-border));
  padding: 0.75rem;
  background-color: hsl(var(--terminal-input));
  flex-shrink: 0;
}

.terminal__input {
  flex: 1;
  background: transparent;
  border: none;
  outline: none;
  color: hsl(var(--terminal-fg));
  font-family: var(--font-mono);
  font-size: 0.75rem;
}

/* Keyframes for animations */
@keyframes terminal-cursor {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

@keyframes terminal-typing {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes matrix-rain {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100vh); }
}

@keyframes fade-in {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes slide-up {
  0% { transform: translateY(20px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

@keyframes slide-down {
  0% { transform: translateY(-20px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

@keyframes scale-in {
  0% { transform: scale(0.95); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
  20%, 40%, 60%, 80% { transform: translateX(2px); }
}

@keyframes bounce-gentle {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

@keyframes spinner {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes skeleton {
  0% { opacity: 0.4; }
  100% { opacity: 0.6; }
}

@keyframes glow {
  0% { box-shadow: 0 0 5px rgba(59, 130, 246, 0.5); }
  100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.8); }
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

/* Special effects for terminal commands */
body.invert {
  filter: invert(1) hue-rotate(180deg);
}

body.shake {
  animation: shake 0.5s ease-in-out infinite;
}

body.rainbow {
  animation: rainbow-bg 2s linear infinite;
}

@keyframes rainbow-bg {
  0% { background-color: #ff0000; }
  16.66% { background-color: #ff9900; }
  33.33% { background-color: #ffff00; }
  50% { background-color: #00ff00; }
  66.66% { background-color: #0099ff; }
  83.33% { background-color: #9900ff; }
  100% { background-color: #ff00ff; }
}

/* Responsive design */
@media (max-width: 640px) {
  .terminal--expanded {
    width: calc(100vw - 1rem);
    height: calc(60vh);
    bottom: 0.5rem;
    right: 0.5rem;
  }

  .terminal--minimized {
    bottom: 0.5rem;
    right: 0.5rem;
  }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  
  *, ::before, ::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  body.invert { transition: none; }
  body.shake { animation: none; transform: none; }
  body.rainbow { animation: none; background-color: hsl(var(--background)); }
}